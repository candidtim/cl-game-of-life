#!/usr/bin/env -S sbcl --script

(load "life.lisp")

(defun main (init-args play-args)
 (format t "Hit Ctrl-C to stop~%")
 (handler-case

  (let ((field (apply #'init init-args)))
    (apply #'play (append (list field) play-args)))

  (#+sbcl sb-sys:interactive-interrupt
   #+ccl  ccl:interrupt-signal-condition
   #+clisp system::simple-interrupt-condition
   #+ecl ext:interactive-interrupt
   #+allegro excl:interrupt-signal
   ()
   (format t "~%Aborted~%"))))

(main '(40 80) '(:tick-duration-seconds 0.5))
